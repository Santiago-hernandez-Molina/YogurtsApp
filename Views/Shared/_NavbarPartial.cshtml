@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

<nav class="navbar-custom">
    <button id="btn-menu" type="button" class='btn-enable' ><i class="bi bi-menu-button-wide-fill"></i></button>
    <div id="menu" class="nav-section nav-section-disable">
        <div class="nav-sep"></div>
        <ul>
            <li class="nav-item-custom">
                <a class="nav-link-custom" asp-controller="Home" asp-action="Index">
                    Inicio <i class="bi bi-house-door-fill"></i></a>
            </li>
            <li class="nav-item-custom">
                <a class="nav-link-custom">
                    Yogurt <i class="bi bi-cup-straw"></i></a>
            </li>
            <li class="nav-item-custom">
                <a class="nav-link-custom">Blog</a>
            </li>
        </ul>
    </div>
    <div class="logo-custom"> 
        <img class="logo-img" src="/assets/icons/nutry-dairy-logo.png" alt="nutrydairy" />
    </div>
    <div id="menu-2" class="nav-section nav-section-disable">
        <div class="nav-sep"></div>
        <ul>
            @if (SignInManager.IsSignedIn(User))
            {
            <li class="nav-item-custom">
                <a class="nav-link-custom">
                    Carrito <i class="bi bi-basket3-fill"></i></a>
            </li>
            <li class="nav-item-custom">
                <a class="nav-link-custom" asp-controller="Admin" asp-action="Index">
                    Admin <i class="bi bi-pencil"></i></a>
            </li>
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Hola @User.Identity?.Name
                </button>
                <ul class="dropdown-menu" style="background: var(--dark-blue);">
                    <li class="nav-item-custom">
                        <a asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage" 
                            class="nav-link-custom">Cuenta</a>
                    </li>
                    <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                        <button style="margin: 2px; font-weight: bold;"
                            type="submit" class="btn nav-link-custom">
                            Cerrar Sesión <i class="bi bi-box-arrow-right"></i></button>
                    </form>
                </ul>
            </div>
            }
            else
            {
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Iniciar Sesión
                </button>
                <ul class="dropdown-menu" style="background: var(--dark-blue);">
                    <li class="nav-item-custom">
                        <a asp-area="Identity" asp-page="/Account/Register" class="nav-link-custom">Register</a>
                    </li>
                    <li class="nav-item-custom">
                        <a asp-area="Identity" asp-page="/Account/Login" class="nav-link-custom">Login</a>
                    </li>
                </ul>
            </div>
            }
        </ul>
    </div>
</nav>
<script src="/js/nav.js">
</script>
